$(document).ready(function(){"use strict";let e=$(".card-table").DataTable({columnDefs:[{orderable:!1,className:"select-checkbox",targets:0}],select:{style:"multi+shift",selector:"td:first-child"},order:[[1,"asc"]]});e.on("select deselect draw",function(){var t=e.rows({search:"applied"}).count(),o=e.rows({selected:!0,search:"applied"}).count();o<t?$("#select_all i").attr("class","fe fe-square"):$("#select_all i").attr("class","fe fe-check-square"),o<1?$(".delete_btn").html("("+o+") Delete").hide():$(".delete_btn").html("("+o+") Delete").show()}),$("#select_all").on("click",function(){var t=e.rows({search:"applied"}).count();e.rows({selected:!0,search:"applied"}).count()<t?(e.rows({search:"applied"}).deselect(),e.rows({search:"applied"}).select()):e.rows({search:"applied"}).deselect()}),$(".delete_btn.deal").on("click",function(){$("#deal_delete_modal").modal("show")}),$(document).on("click",".btn-yes-deal",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))});$(this).val();$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/deal/delete",success:function(e){"demo"==e?($("#deal_delete_modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#deal_delete_modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(document).on("click",".edit_deal",function(){var e=$(this).val();$.ajax({type:"get",url:url+"/admin/deals/"+e+"/edit",success:function(e){$("#edit-modal").html(e),$("#edit-modal").modal("show")}})}),$(".delete_btn.icon").on("click",function(){$("#icon_delete_modal").modal("show")}),$(document).on("click",".btn-yes",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))});$(this).val();$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/coin/delete",success:function(e){"demo"==e?($("#icon_delete_modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#icon_delete_modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(".delete_btn.exchange").on("click",function(){$("#delete-modal").modal("show")}),$(document).on("click",".btn-yes-exchange",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))}),$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/exchange/delete",success:function(e){"demo"==e?($("#delete-modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#delete-modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(document).on("click","#edit_user",function(){var e=$(this).data("id");$.ajax({type:"get",url:url+"/admin/users/"+e+"/edit",success:function(e){$("#edit-modal").html(e),$("#edit-modal").modal("show")}})}),$(".delete_btn.user").on("click",function(){$("#delete-modal").modal("show")}),$(document).on("click",".btn-yes-user",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))}),$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/user/delete",success:function(e){"demo"==e?($("#delete-modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#delete-modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(".delete_btn.blog").on("click",function(){$("#delete-modal").modal("show")}),$(document).on("click",".btn-yes-blog",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))}),$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/blog/delete",success:function(e){"demo"==e?($("#delete-modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#delete-modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(".delete_btn.alert").on("click",function(){$("#delete-modal").modal("show")}),$(document).on("click",".btn-yes-alert",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))}),$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/alert/delete",success:function(e){"demo"==e?($("#delete-modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#delete-modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(".delete_btn.page").on("click",function(){$("#delete-modal").modal("show")}),$(document).on("click",".btn-yes-page",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))}),$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/page/delete",success:function(e){"demo"==e?($("#delete-modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#delete-modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(".delete_btn.review").on("click",function(){$("#delete-modal").modal("show")}),$(document).on("click",".btn-yes-review",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))}),$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/review/delete",success:function(e){"demo"==e?($("#delete-modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#delete-modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(document).on("click",".btn-view",function(){var e=$(this).val();$.ajax({type:"get",url:url+"/admin/review/view/"+e,success:function(e){"error"!=e&&($("#view-modal").html(e),$("#view-modal").modal("show"))}})}),$(".delete_btn.subscriber").on("click",function(){$("#delete-modal").modal("show")}),$(document).on("click",".btn-yes-subscriber",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))}),$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/subscriber/delete",success:function(e){"demo"==e?($("#delete-modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#delete-modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$(".delete_btn.language").on("click",function(){$("#delete-modal").modal("show")}),$(document).on("click",".btn-yes-language",function(){var e=[];$("table tr.selected").each(function(){e.push($(this).attr("id"))}),$.ajax({type:"post",data:{_token:token,id:e},url:url+"/admin/settings/language/delete",success:function(e){"demo"==e?($("#delete-modal").modal("hide"),$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"})):($("#delete-modal").modal("hide"),$.toast({heading:"Success",text:e,showHideTransition:"slide",position:"top-right",icon:"success"}),setTimeout(function(){location.reload(!0)},1e3))}})}),$("#captcha").change(function(){this.checked?$(".site_key").show():$(".site_key").hide()}),$(".custom-switch.lang input").on("change",function(){$(".custom-switch.lang input").not(this).prop("checked",!1);var e=$(this).val();$.ajax({type:"post",data:{_token:token,short_name:e},url:url+"/admin/settings/language/switch",success:function(e){"demo"==e&&$.toast({heading:"Error",text:"Functionality is disabled in demo version",showHideTransition:"slide",position:"top-right",icon:"error"}),"true"!=e&&"demo"!=e?$(".custom-switch.lang input").each(function(){$(this).is(":checked")&&$(this).prop("checked",!1)}):setTimeout(function(){location.reload(!0)},1e3)},error:function(){$(".custom-switch.lang input").each(function(){$(this).is(":checked")&&$(this).prop("checked",!1)})}})})});
